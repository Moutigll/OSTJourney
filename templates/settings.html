<h1 id="currentUrl">{{ currentUrl }}</h1>
<center>
	<div class="header">
		<h2>Settings</h2>
	</div>
	{% if success %}
		<p class="success-msg">{{ success }}</p>
	{% endif %}
	{% if error %}
		<p class="error-msg">{{ error }}</p>
	{% endif %}
	<div id="login-container">
		<form id="login-form" method="POST" action="{{ url_for('session.change_password') }}">
			<div class="input-field">
				<label for="password">Old Password:</label>
				<input 
					type="password" 
					id="old_password" 
					name="old_password"
					required
					minlength="8">
			</div>
			<div class="input-field">
				<label for="password">New Password:</label>
				<input 
					type="password"
					id="password"
					name="password"
					required
					minlength="8"
					title="Password must be at least 8 characters long, contain at least one number, one uppercase letter, one lowercase letter, and at least one special character (e.g., !, @, #, $, etc.).">
			</div>
			<div class="input-field">
				<label for="confirm_password">Confirm New Password:</label>
				<input 
					type="password"
					id="confirm_password"
					name="confirm_password"
					required
					minlength="8"
					title="Password must be at least 8 characters long, contain at least one number, one uppercase letter, one lowercase letter, and at least one special character (e.g., !, @, #, $, etc.).">
			</div>
			<button type="submit" id="login-btn">Change Password</button>
		</form>		
	</div>
	<h3>Theme</h3>
	<div id="settings-theme">
		<button class="settings-theme-btn" data-theme="catppuccin-latte" style="--c1:rgb(239, 241, 245); --c2:rgb(172, 176, 190); --c3:rgb(108, 111, 133);"></button>
		<button class="settings-theme-btn" data-theme="catppuccin-frappe" style="--c1:rgb(35, 38, 52); --c2:rgb(48, 52, 70); --c3:rgb(165, 173, 206);"></button>
		<button class="settings-theme-btn" data-theme="catppuccin-macchiato" style="--c1:rgb(24, 25, 38); --c2:rgb(36, 39, 58); --c3:rgb(165, 173, 203);"></button>
		<button class="settings-theme-btn" data-theme="catppuccin-mocha" style="--c1:rgb(17, 17, 27); --c2:rgb(30, 30, 46); --c3:rgb(166, 173, 200);"></button>
	</div>
	<h3>Theme overrides</h3>
	<div id="settings-theme-overrides">
	</div>
	<div id="checkbox-settings">
		<form method="POST" action="{{ url_for('user.update_settings') }}" id="settings-form">
			<label>
				<input type="checkbox" name="enable_rpc" {% if enable_rpc %}checked{% endif %} id="checkbox-enable_rpc">
				Enable RPC
			</label>
			<input type="hidden" name="theme" id="form-theme">
			<input type="hidden" name="theme-overrides" id="form-theme-overrides">
			<button type="submit" id="settings-form-submit">Save</button>
		</form>		
	</div>
	
</center>

<script src="{{ url_for('static', filename='js/settings.js') }}"></script>
<script src="{{ url_for('static', filename='js/check_password.js') }}"></script>
<script src="{{ url_for('static', filename='js/dup_check.js') }}"></script>